Создать миграцию:

docker compose run --rm fastapi alembic revision --autogenerate -m "новая миграция"


Применить ее к базе:

docker compose run --rm fastapi alembic upgrade head


запуск прометеуса для сбора метрик

prometheus --config.file=prometheus.yml




ЗАДАЧИ

Можно создавать задачи. В задачах может быть просто текст, либо текст с вложениями(файлы из S3 хранилища).
Суперюзер может создавать задачи для любого пользователя, проекта, ротной обязанности и призыва. 
Задачи в каком-то смысле общие - они хранятся в отдельной таблице. У каждой задачи обязан быть заказчик(owner) и это неизменяемое поле
Исполнители делят одну общую задачу на всех (если хотя бы один отметит ее выполненой, то данное действие будет распространено на всех(изменит, удалит, приложит вложение и тд))
У задач есть задаваемый параметр СРОК. Он предполагает, что как только срок выполнения задачи подойдет, а статус ее не перейдет в выполнено. Она будет считаться просроченной.
Суперюзер имеет возможность редактировать абсолютно все задачи. 

Атрибуты в БД tasks:
id                  - идентификатор задачи
text                - текстовая формулировка задачи
owner_id            - заказчик
created_at          - дата создания
updated_at          - дата последнего обновления
expired_at          - срок задачи
can_be_completed    - может ли быть задача отмечена исполнителем как выполненная
can_be_deleted      - может ли быть задача удалена исполнителем
status              - статус задачи (in_progress, completed, deleted, expired, )
deleted_by          - кем именно была удалена задача
deleted_at          - когда была удалена задача
completed_by        - кем была завершена задача
completed_at        - когда была завершена
is_autogenerated    - Сгенерированная ли это задача?
autogen_id          - id генеративной задачи


Autogenerate задача удаляется полностью по истечении срока.
Она находится вне логического списка и над ней нельзя проводить операции.
